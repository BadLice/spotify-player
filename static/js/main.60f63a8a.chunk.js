(this["webpackJsonpspotify-player"]=this["webpackJsonpspotify-player"]||[]).push([[0],{120:function(e,t){},122:function(e,t){},132:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(0),c=a.n(r),l=a(32),s=a.n(l),o=(a(96),a(97),a(142)),i=a(143),u=a(140),m=a(141),f=a(78),h=a(76),d=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{onClick:function(){window.location.href="https://accounts.spotify.com/authorize?client_id=bee70acc71d645e0aeb3ba505672c35d&response_type=token&redirect_uri=http://localhost:3000"},variant:"success"},"Login"))},E=function(e){var t=Object(r.useState)({label:"Track",value:"track"}),a=Object(n.a)(t,2),l=a[0],s=a[1];return c.a.createElement(o.a,{bg:"dark",expand:"lg"},c.a.createElement(o.a.Brand,null,c.a.createElement(o.a.Brand,{className:"text-white"},c.a.createElement("span",{className:"text-success border border-success rounded-pill p-2"},"Spotify"),c.a.createElement("span",null,"Player"))),c.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(o.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(i.a,{className:"mr-auto"}),c.a.createElement(u.a,{inline:!0,onSubmit:function(t){t.preventDefault(),0!==t.target.searchQuery.value.trim().length&&e.search({q:t.target.searchQuery.value.trim().replace(" ","+"),type:l.value,limit:9,offset:0}),console.log()}},e.logged?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{name:"searchType",onSelect:function(e){s(JSON.parse(e))},className:"mr-2"},c.a.createElement(m.a.Toggle,{variant:"success",id:"dropdown-basic"},l.label),c.a.createElement(m.a.Menu,null,c.a.createElement(m.a.Item,{eventKey:JSON.stringify({label:"Track",value:"track"})},"Track"),c.a.createElement(m.a.Item,{eventKey:JSON.stringify({label:"Artist",value:"artist"})},"Artist"),c.a.createElement(m.a.Item,{eventKey:JSON.stringify({label:"Album",value:"album"})},"Album"),c.a.createElement(m.a.Item,{eventKey:JSON.stringify({label:"Playlist",value:"playlist"})},"Playlist"))),c.a.createElement(f.a,{type:"text",placeholder:"Search",className:"mr-sm-2",name:"searchQuery"}),c.a.createElement(h.a,{type:"submit"},"Search")):c.a.createElement(d,null))))},p=a(86),b=a.n(p),g=a(144),v=a(138),y=a(59),k=function(e){return c.a.createElement(h.a,{className:"float-right mb-2 rounded-circle",variant:"outline-success"},"\u25b6")},O=function(e){var t=Object(r.useState)(!0),a=Object(n.a)(t,2),l=a[0],s=a[1];if("track"!==e.track.type)return null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{className:"d-inline-block m-2 w-30 h-25 border-success rounded",bg:"dark",text:"success"},c.a.createElement("center",null,c.a.createElement(v.a,{animation:"grow",variant:"light",style:{margin:e.track.album.images[1].width/2,display:l?"block":"none"}})),c.a.createElement(g.a.Img,{variant:"top",src:e.track.album.images[1].url,onLoad:function(){s(!1)},className:l?"d-none":"d-block"}),c.a.createElement(g.a.Body,null,c.a.createElement(g.a.Title,null,c.a.createElement(y.a,null,e.track.name)),c.a.createElement("span",{className:"text-info"},function(e){var t=e/1e3,a=Math.floor(t/60);return t-=60*a,(a=a.toFixed(0))+":"+(t=t.toFixed(0))}(e.track.duration_ms)),c.a.createElement("br",null),c.a.createElement(y.a,{className:"text-white-50"},e.track.artists.reduce((function(e,t){return e+t.name+", "}),"").slice(0,-2)),c.a.createElement(k,null))))},w=a(139),N=a(89),x=a(37),S=function(e){for(var t=function(t){var a=Object(N.a)({},e.searchOptions);a.offset=a.limit*t,e.search(a)},a=e.searchOptions.offset/e.searchOptions.limit,n=a+1,r=[],l=function(e){e>0?r.push(c.a.createElement(x.a.Item,{key:e,active:e===n,onClick:function(){return t(e-1)}},e)):r.push(c.a.createElement(x.a.Item,{key:e,disabled:!0},"\xa0"))},s=a+1-2;s<=a+1+2;s++)l(s);return c.a.createElement(x.a,{className:"mx-auto",style:{width:"200px"}},c.a.createElement(x.a.Prev,{disabled:0===a,onClick:function(){return t(n-2)}}),r,c.a.createElement(x.a.Next,{onClick:function(){return t(n)}}))},j=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{className:"pt-2 pb-2"},e.searchResult&&e.searchResult.tracks&&e.searchResult.tracks.items.map((function(e){return c.a.createElement(O,{key:e.id,track:e})})),c.a.createElement(S,{offset:e.offset,next:e.next,resultsPerPage:6,nextLink:e.searchResult.next,search:e.search,searchOptions:e.searchOptions})))},_=function(e){var t=function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(null),o=Object(n.a)(s,2),i=o[0],u=o[1],m=Object(r.useState)(null),f=Object(n.a)(m,2),h=f[0],d=f[1];return Object(r.useEffect)((function(){if(h&&e){var t=!0,a=Object.keys(h).reduce((function(e,t){return e+"&"+t+"="+h[t]}),"access_token="+e);return b.a.get("https://api.spotify.com/v1/search?"+a).then((function(e){var a=e.data;t&&l(a)})).catch((function(e){return u(e)})),function(){return t=!1}}}),[h,e]),{searchResult:c,search:d,searchOptions:h,error:i}}(e._TOKEN),a=t.searchResult,l=t.search,s=t.searchOptions;t.error;return console.log(a),c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{logged:e.logged,search:l}),a&&c.a.createElement(j,{searchResult:a,search:l,searchOptions:s}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=function(e){var t=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){if(!a){var e=window.location.href,t=e.indexOf("access_token="),n="access_token=".length,r=e.indexOf("&token_type");if(-1!==t&&-1!==r){var l=e.substring(t+n,r);c(l)}}}),[window.location.href]),a}();return c.a.cloneElement(e.children,{logged:!!t,_TOKEN:t})};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null,c.a.createElement(_,{logged:!1}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(132)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.60f63a8a.chunk.js.map